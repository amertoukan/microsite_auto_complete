<link rel="icon" type="image/x-icon" href="https://res.cloudinary.com/saasquatch/image/upload/v1657818643/squatch-assets/SaaSquatchLogo.png">


<!--
    This will listen to a firstName param and place its findings into the email field on the registration page.
-->
<script>
    function waitForInputField() {
        return new Promise(function (resolve, reject) {
            waitForElementToDisplay(200);
            function waitForElementToDisplay(time) {
                const firstName = 
                { 
                     if_statement: document.querySelector('sqm-portal-registration-form')?.querySelector('sqm-name-fields')?.querySelector('div')?.querySelector('sl-input'),
                    do_this: document.querySelector('sqm-portal-registration-form')?.querySelector('sqm-name-fields')?.querySelector('div')?.querySelector('sl-input')
    
                }

                if (firstName.if_statement) {
                    resolve(firstName.do_this)
                }
                else {
                    setTimeout(function () {
                        waitForElementToDisplay(time);
                    }, time);
                }
            }
        });
    }
    
    waitForInputField().then(inputField => {
        const queryParams = new URLSearchParams(window.location.search);
        const firstName = queryParams.get("firstName");
        console.log(inputField)
        inputField.value = firstName
    })
    </script>